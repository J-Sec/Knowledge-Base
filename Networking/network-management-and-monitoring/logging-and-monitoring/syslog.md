# Syslog

{% hint style="info" %}
<mark style="color:blue;">**Syslog**</mark> is a standardised protocol used for logging and transmitting system messages from devices to a central server for monitoring and troubleshooting.
{% endhint %}

> <mark style="color:green;">**Port Numbers**</mark>**:** UDP 514
>
> <mark style="color:green;">**RFC**</mark>**:** 3164

Many networking devices support syslog, including: routers, switches, application servers, firewalls, and other network appliances.&#x20;

The syslog protocol allows networking devices to send their system messages across the network to syslog servers.

The syslog logging service provides three primary functions, as follows:

* The ability to gather logging information for monitoring and troubleshooting
* The ability to select the type of logging information that is captured
* The ability to specify the destinations of captured syslog messages



## Syslog Operation

* The syslog protocol starts by sending system messages and **debug** output to a local logging process that is internal to the device
* The local logging process will send the syslog message to various destinations based on device configurations
  * Popular destinations for syslog messages include the following:
    * Logging buffer (RAM inside a router or switch)
    * Console line
    * Terminal line
    * Syslog server
* Different types of messages can also be sent to various destinations



## Syslog Message Format

Every syslog message contains a severity level and a facility.

The smaller numerical levels are the more critical syslog alarms. The severity level of the messages can be set to control where each type of message is displayed (i.e. on the console or the other destinations).



<figure><img src="../../.gitbook/assets/Screenshot 2024-12-16 at 12.58.55.png" alt=""><figcaption><p>Syslog Levels</p></figcaption></figure>

Each syslog level has its own meaning:

* **Warning Level 4 - Emergency Level 0:** These messages are error messages about software or hardware malfunctions; these types of messages mean that the functionality of the device is affected. The severity of the issue determines the actual syslog level applied.
* **Notification Level 5:** This notifications level is for normal, but significant events. For example, interface up or down transitions, and system restart messages are displayed at the notifications level.
* **Informational Level 6:** This is a normal information message that does not affect device functionality. For example, when a Cisco device is booting, you might see the following informational message: %LICENSE-6-EULA\_ACCEPT\_ALL: The Right to Use End User License Agreement is accepted.
* **Debugging Level 7:** This level indicates that the messages are output generated from issuing various **debug** commands.



## Syslog Facilities

Syslog facilities are service identifiers that identify and categorise system state data for error and event message reporting.



Some common syslog message facility codes reported on Cisco IOS routers include:

* **IF** - Identifies that the syslog message was generated by an interface.
* **IP** - Identifies that the syslog message was generated by IP.
* **OSPF** - Identifies that the syslog message was generated by the OSPF routing protocol.
* **SYS** - Identifies that the syslog message was generated by the device operating system.
* **IPSEC** - Identifies that the syslog message was generated by the IP Security encryption protocol.



By default, the format of syslog messages on the Cisco IOS Software is as follows:

```
%facility-severity-MNEMONIC: description 
```



## Configure Syslog Timestamps

{% hint style="warning" %}
By default, log messages are not timestamped.
{% endhint %}



Use the command **`service timestamps log datetime`** to force logged events to display the date and time:

```bash
R1(config)# service timestamps log datetime
R1(config)# interface g0/0/0
R1(config-if)# no shutdown
*Mar  1 11:52:42: %LINK-3-UPDOWN: Interface GigabitEthernet0/0/0, changed state to down
*Mar  1 11:52:45: %LINK-3-UPDOWN: Interface GigabitEthernet0/0/0, changed state to up
*Mar  1 11:52:46: %LINEPROTO-5-UPDOWN: Line protocol on Interface GigabitEthernet0/0/0,
changed state to up
R1(config-if)#
```

**Note:** When using the **`datetime`** keyword, the clock on the networking device must be set, either manually or through NTP
